<div class="event-list-container">
    <div class="events-section" *ngIf="getUpcomingEvents().length > 0">
        <h3 class="section-title">Pr칩ximos Eventos</h3>
        <div class="events-grid">
            <div
                class="event-card upcoming"
                *ngFor="let event of getPaginatedUpcomingEvents()"
                (click)="onEventClick(event)"
            >
                <div class="event-header">
                    <h4>{{ event.title }}</h4>
                    <div class="event-date">
                        {{ formatDate(event.date) }}
                    </div>
                </div>

                <div class="event-body">
                    <p class="event-description">{{ event.description }}</p>

                    <div class="event-details">
                        <div class="detail-item">
                            <span class="detail-icon">游늸</span>
                            <span>{{ event.place }}</span>
                        </div>

                        <div class="detail-item" *ngIf="event.maxParticipants">
                            <span class="detail-icon">游논</span>
                            <span
                                >M치x: {{ event.maxParticipants }} pessoas</span
                            >
                        </div>

                        <div
                            class="detail-item"
                            *ngIf="event.recurrence !== 'none'"
                        >
                            <span class="detail-icon">游댃</span>
                            <span>{{
                                getRecurrenceLabel(event.recurrence)
                            }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <app-pagination
            *ngIf="getTotalPagesUpcoming() > 1"
            [currentPage]="currentPageUpcoming"
            [totalPages]="getTotalPagesUpcoming()"
            [totalItems]="getUpcomingEvents().length"
            [pageSize]="pageSize"
            (pageChanged)="onPageChangedUpcoming($event)"
        ></app-pagination>
    </div>

    <div class="events-section" *ngIf="getPastEvents().length > 0">
        <h3 class="section-title">Eventos Anteriores</h3>
        <div class="events-grid">
            <div
                class="event-card past"
                *ngFor="let event of getPaginatedPastEvents()"
                (click)="onEventClick(event)"
            >
                <div class="event-header">
                    <h4>{{ event.title }}</h4>
                    <div class="event-date">
                        {{ formatDate(event.date) }}
                    </div>
                </div>

                <div class="event-body">
                    <p class="event-description">{{ event.description }}</p>

                    <div class="event-details">
                        <div class="detail-item">
                            <span class="detail-icon">游늸</span>
                            <span>{{ event.place }}</span>
                        </div>

                        <div class="detail-item" *ngIf="event.maxParticipants">
                            <span class="detail-icon">游논</span>
                            <span
                                >M치x: {{ event.maxParticipants }} pessoas</span
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <app-pagination
            *ngIf="getTotalPagesPast() > 1"
            [currentPage]="currentPagePast"
            [totalPages]="getTotalPagesPast()"
            [totalItems]="getPastEvents().length"
            [pageSize]="pageSize"
            (pageChanged)="onPageChangedPast($event)"
        ></app-pagination>
    </div>

    <app-empty-state
        *ngIf="events.length === 0"
        icon="游늰"
        message="Nenhum evento encontrado"
        description="N칚o h치 eventos cadastrados no momento."
    ></app-empty-state>
</div>
