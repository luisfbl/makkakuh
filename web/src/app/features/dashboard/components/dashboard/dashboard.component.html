<div class="account-container">
    <h2>Minha Conta</h2>

    <div *ngIf="user" class="profile-container">
        <div class="avatar-section">
            <div class="avatar-container">
                <img *ngIf="avatarUrl" [src]="avatarUrl" alt="Avatar do usuário" class="user-avatar" />
                <div *ngIf="!avatarUrl" class="avatar-placeholder">
                    {{ user?.name }}
                </div>
            </div>
            
            <app-image-upload 
                type="avatar"
                [currentImage]="avatarUrl"
                buttonText="Alterar Avatar"
                placeholderText="Clique ou arraste uma imagem para alterar seu avatar"
                (imageUploaded)="onImageUploaded($event)"
                (uploadError)="onUploadError($event)">
            </app-image-upload>
            
            <div *ngIf="uploadError" class="error-message">
                {{ uploadError }}
            </div>
        </div>

        <div class="profile-details">
            <h3>Informações do Perfil</h3>
            <div class="info-item">
                <label>Nome:</label>
                <p>{{ user?.name }}</p>
            </div>
            <div class="info-item">
                <label>Usuário:</label>
                <p>{{ user?.username || user?.nickname }}</p>
            </div>
            <div class="info-item">
                <label>Email:</label>
                <p>{{ user?.email }}</p>
            </div>
            <div class="info-item">
                <label>Biografia:</label>
                <p>{{ user?.bio || 'Nenhuma biografia definida' }}</p>
            </div>
        </div>

        <div class="actions">
            <button (click)="logout()" class="logout-button">Sair</button>
        </div>
    </div>

    <div *ngIf="!user" class="loading">
        <p>Carregando informações da conta...</p>
    </div>
</div>